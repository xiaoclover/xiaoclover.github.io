"use strict";function whenDOMReady(){cardTimes("pjax开启")}function cardTimes(){year=now.getFullYear(),month=now.getMonth(),week=now.getDay(),date=now.getDate();var e=year%4==0&&year%100!=0||year%400==0;switch(week){case 0:weekStr="周日";break;case 1:weekStr="周一";break;case 2:weekStr="周二";break;case 3:weekStr="周三";break;case 4:weekStr="周四";break;case 5:weekStr="周五";break;case 6:weekStr="周六";break;default:console.log("异常情况")}switch(month){case 0:monthStr="一月",dates=31;break;case 1:monthStr="二月",dates=e?29:28;break;case 2:monthStr="三月",dates=31;break;case 3:monthStr="四月",dates=30;break;case 4:monthStr="五月",dates=31;break;case 5:monthStr="六月",dates=30;break;case 6:monthStr="七月",dates=31;break;case 7:monthStr="八月",dates=31;break;case 8:monthStr="九月",dates=30;break;case 9:monthStr="十月",dates=31;break;case 10:monthStr="十一月",dates=30;break;case 11:monthStr="十二月",dates=31;break;default:console.log("异常情况")}var a,t=(week+8-date%7)%7,r="",n=!1,d=7-t,s=0==(dates-d)%7?Math.floor((dates-d)/7)+1:Math.floor((dates-d)/7)+2,o=document.getElementById("calendar-main"),c=document.getElementById("calendar-date");switch(s){case 4:c.style.marginBottom="";break;case 5:c.style.marginBottom="1.2rem";break;default:c.style.marginBottom="2.4rem"}for(var l=0;l<s;l++){null==o.querySelector(".calendar-r"+l)&&(o.innerHTML+="<div class='calendar-r"+l+"'></div>");for(var m=0;m<7;m++)0==l&&m==t&&(r=1,n=!0),a=r==date?" class='now'":"",null==o.querySelector(".calendar-r"+l+" .calendar-d"+m+" a")&&(o.querySelector(".calendar-r"+l).innerHTML+="<div class='calendar-d"+m+"'><a"+a+">"+r+"</a></div>"),r>=dates&&(r="",n=!1),n&&(r+=1)}var d=chineseLunar.solarToLunar(new Date(year,month,date)),d=(animalYear=chineseLunar.format(d,"A"),ganzhiYear=chineseLunar.format(d,"T").slice(0,-1),lunarMon=chineseLunar.format(d,"M"),lunarDay=chineseLunar.format(d,"d"),asideTime=new Date("2023/01/01 00:00:00"),asideDay=(now-asideTime)/1e3/60/60/24,asideDayNum=Math.floor(asideDay),0<=week-asideDayNum%7?Math.ceil(asideDayNum/7):Math.ceil(asideDayNum/7)+1),i=document.getElementById("calendar-month"),h=document.getElementById("calendar-week"),u=document.getElementById("calendar-date"),k=document.getElementById("calendar-animal"),y=document.getElementById("calendar-lunar"),w=document.getElementById("aside-time-left");i&&(i.innerHTML=monthStr),h&&(h.innerHTML=weekStr),u&&(u.innerHTML=date.toString().padStart(2,"0")),k&&(k.innerHTML=ganzhiYear+animalYear+"年"),y&&(y.innerHTML=lunarMon+lunarDay),w&&(w.innerHTML=year+"&nbsp;&nbsp;<a style='font-size:1.1rem;font-weight:bold;'>第</a>&nbsp;"+d+"&nbsp;<a style='font-size:1.1rem;font-weight:bold;'>周</a>")}whenDOMReady(),document.addEventListener("pjax:complete",whenDOMReady);