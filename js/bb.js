"use strict";var percentFlag=!1;function essayScroll(){var e=(document.documentElement.scrollTop||window.pageYOffset)%document.documentElement.clientHeight,e=(result<=99||(result=99),!percentFlag&&100+e>=document.documentElement.clientHeight&&document.querySelector("#waterfall")?setTimeout(function(){waterfall("#waterfall")},500):setTimeout(function(){document.querySelector("#waterfall")&&waterfall("#waterfall")},500),window.scrollY+document.documentElement.clientHeight),t=document.getElementById("post-comment")||document.getElementById("footer");(t.offsetTop+t.offsetHeight/2<e||90<result)&&(percentFlag=!0)}function replaceAll(e,t,n){return e.split(t).join(n)}var swiper,anzhiyu={diffDate:function(e){var t,n,l=1<arguments.length&&void 0!==arguments[1]&&arguments[1],a=new Date,e=new Date(e),a=a.getTime()-e.getTime(),o=864e5;return l?(l=a/o,t=a/36e5,n=a/6e4,1<=a/2592e6?e.toLocaleDateString().replace(/\//g,"-"):1<=l?parseInt(l)+" "+GLOBAL_CONFIG.date_suffix.day:1<=t?parseInt(t)+" "+GLOBAL_CONFIG.date_suffix.hour:1<=n?parseInt(n)+" "+GLOBAL_CONFIG.date_suffix.min:GLOBAL_CONFIG.date_suffix.just):parseInt(a/o)},changeTimeInEssay:function(){document.querySelector("#bber")&&document.querySelectorAll("#bber time").forEach(function(e){var t=e.getAttribute("datetime");e.innerText=anzhiyu.diffDate(t,!0),e.style.display="inline"})},reflashEssayWaterFall:function(){document.querySelector("#waterfall")&&setTimeout(function(){waterfall("#waterfall"),document.getElementById("waterfall").classList.add("show")},500)},commentText:function(e){"undefined"!=e&&"null"!=e||(e="好棒！");var t=document.getElementsByClassName("el-textarea__inner")[0],n=document.createEvent("HTMLEvents");t&&(n.initEvent("input",!0,!0),e=replaceAll(e,"\n","\n> "),t.value="> "+e+"\n\n",t.dispatchEvent(n),e=document.querySelector("#post-comment").offsetTop,window.scrollTo(0,e-80),t.focus(),t.setSelectionRange(-1,-1),document.getElementById("comment-tips"))&&document.getElementById("comment-tips").classList.add("show")}};anzhiyu.changeTimeInEssay(),anzhiyu.reflashEssayWaterFall(),document.querySelector("#bber-talk")&&(swiper=new Swiper(".swiper-container",{direction:"vertical",loop:!0,autoplay:{delay:3e3,pauseOnMouseEnter:!0}}));